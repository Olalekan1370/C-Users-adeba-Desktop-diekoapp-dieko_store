<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pu="http://primefaces.org/ultima">

    <h:form id="menuform_1"> 
        <div class="layout-menu #{guestPreferences.menuClass}">
            <div class="nano">
                <div class="nano-content menu-scroll-content">
                    <ui:fragment rendered="#{guestPreferences.profileMode == 'inline' and guestPreferences.menuLayout != 'menu-layout-static menu-layout-horizontal'}">
                        <div class="profile">
                            <div class="profile-imag">
                                <p:graphicImage name="images/odofin.jpg" style="width:100px; height:80px; border-radius:10px;"
                                                library="ultima-layout"/>
                            </div>
                            <a id="profile-options" href="#">
                                <span class="profile-name">Welcome, #{admin.staffid.fullname}</span>
                                <i class="material-icons">&#xE313;</i>
                            </a>
                        </div>

                        <ul id="profile-menu" class="ultima-menu">
                            <li role="menuitem">
                                <a href="#" class="ripplelink" onclick="PF('passwordDialog').show()">
                                    <i class="material-icons">&#xE7FD;</i>
                                    <span>Change Password</span>
                                </a>
                            </li>
                            <li role="menuitem">
                                <a href="#" class="ripplelink">
                                    <i class="material-icons">&#xE32A;</i>
                                    <span>Privacy</span>
                                </a>
                            </li>
                            <li role="menuitem">
                                <a href="#" class="ripplelink" onclick="PF('app_setting').show();">
                                    <i class="material-icons">&#xE8B9;</i>
                                    <span>Settings</span>
                                </a>
                            </li>
                            <li role="menuitem">

                            </li>
                        </ul>
                    </ui:fragment>
                    <pu:menu widgetVar="me" style="background-color:white;">
                        <p:menuitem  value="Dashboard" icon="&#xE871;"
                                     url="dashboard.html"  style="color:#2E7D32; font-size:12px;"/>
                        <p:separator/>
                        <p:menuitem value="Reservoir" url="reservoir.xhtml" icon="fa fa-archive"/>
                        <p:separator/>
                        <p:menuitem value="Channel" url="pump.xhtml" icon="fa fa-beer"/>
                        <p:separator/>
                        <p:menuitem id="um_dashboard" value="Stock" icon="fa fa-sticky-note" url="stock.xhtml"/>
                        <p:separator/>
                        <p:menuitem id="um_utils" value="Bankdeposits" icon="fa fa-address-card-o"
                                    url="bankdeposit.xhtml"/>
                        <p:separator/>
                        <p:menuitem  value="Transactions" icon="fa fa-exchange" url="transaction.xhtml"/>
                        <p:separator/>
                        <p:menuitem  value="Expenditure" icon="fa fa-folder-open" url="expenditure.xhtml"/>
                        <p:separator/>
                        <p:menuitem  value="Expenditure Category" icon="fa fa-clone" url="excategory.xhtml"/>
                        <p:separator/>
                        <p:menuitem  value="Shifts" icon="fa fa-clock-o" url="shifting.xhtml"/>
                        <p:separator/>
                        <p:menuitem  value="Staffs" icon="fa fa-users" url="staff.xhtml"/>
                        <p:menuitem  value="Users" icon="fa fa-user" url="users.xhtml"/>
                        <p:separator/>
                        <p:menuitem  value="Supplier" icon="fa fa-truck" url="supplier.xhtml"/>
                        <p:menuitem  value="Backup Restore" icon="fa fa-cogs" url="backup_restore.xhtml"/>

                    </pu:menu>
                </div>
            </div>
        </div>

        <p:dialog  
            widgetVar="passwordDialog"
            responsive="true" 
            closeOnEscape="true"
            dynamic="true"
            position="center" 
            closable="true"
            id="passwordDialog"
            fitViewport="true"
            width="400"
            >
            <f:facet name="header">
                Password Management
            </f:facet>

            <div class="p-grid ui-fluid">
                <div class="p-col-12">
                    <p:outputPanel id="password_panel">
                        <p:panelGrid columns="1" layout="grid" styleClass="ui-panelgrid-blank"
                                     >
                            <h:panelGroup styleClass="md-inputfield md-inputfield-fill" >
                                <p:password value=
                                            "#{appHelper.oldpass}" />

                                <label>Old Password</label>
                            </h:panelGroup>

                            <h:panelGroup styleClass="md-inputfield md-inputfield-fill" >
                                <p:password value=
                                            "#{appHelper.newpass}" />

                                <label>New Password</label>
                            </h:panelGroup>
                            <h:panelGroup styleClass="md-inputfield md-inputfield-fill" >
                                <p:password value=
                                            "#{appHelper.confirmPassword}" />

                                <label>Confirm Password</label>
                            </h:panelGroup>
                            <p:commandButton value="Change Password" action="#{loginController.changeUserPassword()}" 
                                             id="btn">
                                <p:blockUI block="passwordDialog" trigger="btn"/>
                            </p:commandButton>
                        </p:panelGrid> 
                        <p:autoUpdate/>
                    </p:outputPanel>
                </div>
            </div>



        </p:dialog> 
    </h:form>
</ui:composition>